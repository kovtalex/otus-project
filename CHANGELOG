# Changelog

## [Новое]

- [ ] Добавить дополнительные экземляры crawler.
- [ ] Добавить service discovery для всех экземляров crawler.

## 2020-02-12

### Добавлено

- Добавлен datasource Prometheus в образ Grafana.

### Изменено

- Исправлены дашборды Grafana.
- Обновлен README.md.

## 2020-02-11

### Изменено

- В requirements для crawler измнена версия requests на 2.20.0.
- В requirements для ui измнена версия flask на 1.0.0.
- В requirements для ui измнена версия requests на 2.20.0.
- Дополнен README.md, в пайплайн добавлены кнопки остановки окружений.

## 2020-02-10

### Добавлено

- Доблена схема мониторинга и логирования.

### Изменено

- В docker-compose.yml поправлена переменная окружения EXCLUDE_URLS.

## 2020-02-08

### Изменено

- Добавлены имена контейнеров и хостов в docker-compose-.

## 2020-02-07

### Изменено

- Оптимизированы шаги деплоя в .gitlab-ci.yml.


## 2020-02-06

### Добавлено

- в README.md добавлены результаты coverage unit tests.

### Изменено

- Оптимизированы шаги деплоя в .gitlab-ci.yml.

## 2020-02-05

### Изменено

- Обновлен docker-compose.yml.

## 2020-02-04

### Добавлено

- Логирование. Можно искать к примеру по сервисам: service : web, service : crawler.
- Добавлен node_exporter, mongo_exporter, fluentd.
- В образ grafana добавлен дашборд мониторинга MongoDB, Docker, Node-exporter, Application.

### Изменено

- URL окружений больше не захаркодены, а вынесены в переменные окружения Gitlab.

## 2020-02-03

### Добавлено

- Добавлена интеграция Gitlab по отравке сообщений состояния пайплайна в Slack.
- Добавлена отправка аварий из alertmanager в канал Slack.
- В образ grafana добавлен дашборд мониторинга Rabbitmq.

## 2020-02-02

### Добавлено

- Написана конфигурация Terraform для подготовки инстансов в GCP.
- Написана конфигурация Packer для запекания образов с установленным docker, docker-compose.
- Написана конфигурация Ansible для установовки docker, docker-compose.
- Добавлен мониторинг на основе Promethes, Grafana.
- Добавлены источники для мониторига микросервисов приложения, rabbitmq.

### Изменено

- Доработан пайнлайн, добавлены этапы preprod, prod

## 2020-02-01

### Добавлено

- Добавлен CHANGELOG.

### Изменено

- Обновлен пайплайн в .gitlab-ci.yml

## 2020-01-31

### Добавлено

- В .gitlab-ci.yml добавлены стадии build, test, stage с возможность развертывая dev окружения.

## 2020-01-30

### Добавлено

- Создан репозетарий otus-project.
- В /src/search_engine_crawler скачан поисковый бот.
- В /src/search_engine_ui скачан веб-интерфейс поиска слов.
- Написал docker-compose.yml для развертывания контейнеров с приложением, базой и менеджером очереди сообщений.
- Написаны Dockerfile's для имеджей приложения.
- Добавлен простой .gitlab-ci.yml.
